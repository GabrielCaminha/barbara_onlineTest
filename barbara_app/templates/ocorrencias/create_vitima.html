<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar Vítima e Contato</title>
</head>
<body>
    <h1>Criar Vítima</h1>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}

        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" value="{{ vitima_form.nome.value|default_if_none:'' }}" required>
        {% if vitima_form.nome.errors %}
            <p style="color: red;">{{ vitima_form.nome.errors }}</p>
        {% endif %}

        <label for="nome_social">Nome Social:</label>
        <input type="text" id="nome_social" name="nome_social" value="{{ vitima_form.nome_social.value|default_if_none:'' }}" required>
        {% if vitima_form.nome_social.errors %}
            <p style="color: red;">{{ vitima_form.nome_social.errors }}</p>
        {% endif %}

        <label for="data_nascimento">Data de Nascimento:</label>
        <input type="date" id="data_nascimento" name="data_nascimento" value="{{ vitima_form.data_nascimento.value|default_if_none:'' }}" required>
        {% if vitima_form.data_nascimento.errors %}
            <p style="color: red;">{{ vitima_form.data_nascimento.errors }}</p>
        {% endif %}

        <label for="cidade_nascimento">Cidade de Nascimento:</label>
        <input type="text" id="cidade_nascimento" name="cidade_nascimento" value="{{ vitima_form.cidade_nascimento.value|default_if_none:'' }}" required>
        {% if vitima_form.cidade_nascimento.errors %}
            <p style="color: red;">{{ vitima_form.cidade_nascimento.errors }}</p>
        {% endif %}

        <label for="estado_nascimento">Estado de Nascimento:</label>
        <input type="text" id="estado_nascimento" name="estado_nascimento" value="{{ vitima_form.estado_nascimento.value|default_if_none:'' }}" required>
        {% if vitima_form.estado_nascimento.errors %}
            <p style="color: red;">{{ vitima_form.estado_nascimento.errors }}</p>
        {% endif %}

        <label for="cpf">CPF:</label>
        <input type="text" id="cpf" name="cpf" value="{{ vitima_form.cpf.value|default_if_none:'' }}" required>
        {% if vitima_form.cpf.errors %}
            <p style="color: red;">{{ vitima_form.cpf.errors }}</p>
        {% endif %}

        <label for="rg">RG:</label>
        <input type="text" id="rg" name="rg" value="{{ vitima_form.rg.value|default_if_none:'' }}" required>
        {% if vitima_form.rg.errors %}
            <p style="color: red;">{{ vitima_form.rg.errors }}</p>
        {% endif %}

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" value="{{ vitima_form.email.value|default_if_none:'' }}">
        {% if vitima_form.email.errors %}
            <p style="color: red;">{{ vitima_form.email.errors }}</p>
        {% endif %}

        <label for="endereco">Endereço:</label>
        <textarea id="endereco" name="endereco" required>{{ vitima_form.endereco.value|default_if_none:'' }}</textarea>
        {% if vitima_form.endereco.errors %}
            <p style="color: red;">{{ vitima_form.endereco.errors }}</p>
        {% endif %}

        <label for="ocupacao">Ocupação:</label>
        <input type="text" id="ocupacao" name="ocupacao" value="{{ vitima_form.ocupacao.value|default_if_none:'' }}">
        {% if vitima_form.ocupacao.errors %}
            <p style="color: red;">{{ vitima_form.ocupacao.errors }}</p>
        {% endif %}

        <label for="telefone">Telefone:</label>
        <input type="text" id="telefone" name="telefone" value="{{ vitima_form.telefone.value|default_if_none:'' }}" required>
        {% if vitima_form.telefone.errors %}
            <p style="color: red;">{{ vitima_form.telefone.errors }}</p>
        {% endif %}

        <label for="estado_atual">Estado Atual:</label>
        <textarea id="estado_atual" name="estado_atual" required>{{ vitima_form.estado_atual.value|default_if_none:'' }}</textarea>
        {% if vitima_form.estado_atual.errors %}
            <p style="color: red;">{{ vitima_form.estado_atual.errors }}</p>
        {% endif %}

        <label for="medida_protetiva">Medida Protetiva:</label>
        <input type="checkbox" id="medida_protetiva" name="medida_protetiva" {% if vitima_form.medida_protetiva.value %}checked{% endif %}><br>

        <label for="foto">Foto:</label>
        <input type="file" id="foto" name="foto" accept="image/*"><br>

        <!-- Campo para selecionar um contato existente -->
        <label for="contato_existente">Escolher Contato Existente:</label>
        <select name="contato_existente" id="contato_existente">
            <option value="">-- Selecione um contato --</option>
            {% for contato in lista_contatos %}
                <option value="{{ contato.id }}">{{ contato.contato_nome }} ({{ contato.contato_telefone }})</option>
            {% endfor %}
        </select>
        <br><br>

        <button type="submit">Criar Vítima</button>
    </form>

    <h1>Criar Contato</h1>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <label for="contato_nome">Nome do Contato:</label>
        <input type="text" id="contato_nome" name="contato_nome" value="{{ lista_contatos_form.contato_nome.value|default_if_none:'' }}" required>
        {% if lista_contatos_form.contato_nome.errors %}
            <p style="color: red;">{{ lista_contatos_form.contato_nome.errors }}</p>
        {% endif %}

        <label for="contato_telefone">Telefone do Contato:</label>
        <input type="text" id="contato_telefone" name="contato_telefone" value="{{ lista_contatos_form.contato_telefone.value|default_if_none:'' }}" required>
        {% if lista_contatos_form.contato_telefone.errors %}
            <p style="color: red;">{{ lista_contatos_form.contato_telefone.errors }}</p>
        {% endif %}

        <button type="submit">Criar Contato</button>
    </form>
</body>
</html>
